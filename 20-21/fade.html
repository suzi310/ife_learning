<!DOCTYPE html>
<html>
<head>
	<title>Fade</title>
</head>
<body>
<div id="fade-obj" style="width:300px;height:300px;background:#000"></div>
<button id="fade-btn">淡出</button>
<script type="text/javascript">
	var obj = document.querySelector("#fade-obj");
	var btn = document.querySelector("#fade-btn");
	
	function fadeFun(){
		if(!obj.style.opacity){
			obj.style.opacity = 1;
		}
		if(btn.innerHTML == '淡出'){
			if(obj.style.opacity > 0){
				obj.style.opacity -= 0.2;
			}else{
				clearInterval(timeID);
				btn.disabled = false;
				btn.innerHTML = '淡入';
			}
		}else{
			if(obj.style.opacity < 1){
				obj.style.opacity = Number(obj.style.opacity) + 0.2;
			}else{
				clearInterval(timeID);
				btn.disabled = false;
				btn.innerHTML = '淡出';
			}
		}
	}
	btn.onclick = function(){
		timeID = setInterval(fadeFun, 1000);
		btn.disabled = true;
	}
</script>
</body>
</html>